---
title: 值类型&引用类型
toc: true
date: 2018-09-14 11:24:22
tags: [数据结构,值&引用]
categories: 数据结构与算法
---

# 值类型与引用类型的区别

|          |                            值类型                            |             引用类型             |
| :------: | :----------------------------------------------------------: | :------------------------------: |
| 存储方式 |                       直接存储数据本身                       | 存储数据的音乐，数据存在数据堆中 |
| 内存分配 |                              栈                              |                堆                |
|   效率   |                      高效，无须地址转换                      |        低效，需要地址转换        |
| 内存回收 |                        使用完立即回收                        |            GC处理回收            |
| 赋值操作 |                        创建一个新对象                        |           创建一个引用           |
| 类型扩展 | 不易扩展，所有值类型都是密封(seal)的，所以无法派生出新的值类型 |      具有多态的特性方便扩展      |
| 实例分配 | 通常是在线程栈上分配的（静态分配），但是在某些情形下可以存储在堆中 |  总是在进程堆中分配（动态分配）  |

# c#

* **值类型**

  结构体，枚举，可控类型

* **引用类型**

  数组，用户定义的类，接口，委托，object，字符串